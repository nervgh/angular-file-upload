{"version":3,"file":"angular-file-upload.min.js","sources":["angular-file-upload.js"],"names":["angular","factory","define","amd","app","module","directive","$fileUploader","link","hasHTML5","scope","element","attributes","bind","event","dataTransfer","originalEvent","preventDefault","stopPropagation","$broadcast","$emit","files","$eval","ngFileDrop","dropEffect","noop","$on","addClass","ngFileOver","removeClass","removeAttr","this","ngFileSelect","prop","$compile","$rootScope","$http","$window","Uploader","items","options","addToQueue","Item","params","isElement","file","input","clone","uploader","form","iframe","Date","now","value","val","lastModifiedDate","size","type","replace","name","match","_form","after","append","extend","isReady","isUploading","isUploaded","isSuccess","isError","progress","index","prototype","_filter","item","_init","url","alias","queue","headers","autoUpload","removeAfterUpload","method","filters","formData","_nextIndex","_timestamp","unshift","_beforeupload","_progress","_success","_error","_complete","_changedQueue","handler","trigger","arguments","apply","File","FormData","length","forEach","isValid","every","filter","call","copy","push","uploadAll","removeFromQueue","isObject","getIndexOfItem","splice","_destroyForm","clearQueue","indexOf","getNotUploadedItems","getReadyItems","sort","item1","item2","uploadItem","transport","_hasForm","_getTotalProgress","notUploaded","uploaded","ratio","current","Math","round","result","$$phase","$apply","isDefined","_xhrTransport","xhr","XMLHttpRequest","that","obj","key","upload","onprogress","lengthComputable","loaded","total","onload","response","_transformResponse","_isSuccessCode","status","onerror","onabort","open","setRequestHeader","send","_iframeTransport","find","remove","action","target","enctype","encoding","unbind","contents","body","innerHTML","dummy","submit","defaults","transformResponse","transformFn","create"],"mappings":"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"}