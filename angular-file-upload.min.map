{"version":3,"file":"angular-file-upload.min.js","sources":["angular-file-upload.js"],"names":["angular","factory","define","amd","module","value","url","alias","headers","queue","progress","autoUpload","removeAfterUpload","method","filters","formData","queueLimit","Number","MAX_VALUE","withCredentials","fileUploaderOptions","$rootScope","$http","$window","$compile","FileUploader","options","settings","copy","extend","this","isUploading","_nextIndex","_failFilterIndex","_directives","select","drop","over","unshift","name","fn","_queueLimitFilter","_folderFilter","s3Upload","loadS3Library","prototype","isHTML5","File","FormData","addToQueue","files","list","isArrayLikeObject","arrayOfFilters","_getFilters","count","length","addedFileItems","forEach","some","temp","FileLikeObject","_isValidFile","fileItem","FileItem","push","_onAfterAddingFile","filter","_onWhenAddingFileFailed","_onAfterAddingAll","_getTotalProgress","_render","uploadAll","removeFromQueue","index","getIndexOfItem","item","cancel","splice","_destroy","clearQueue","remove","uploadItem","transport","_prepareToUploading","initializeS3","isUndefined","AWS","config","update","accessKeyId","s3Options","secretAccessKey","region","s3","S3","params","Bucket","bucket","TypeError","uploadItemToS3","file","_file","that","timestamp","Date","getTime","response","status","fileName","Key","folder","ContentType","type","Body","ServerSideEncryption","managedUpload","upload","partSize","queueSize","on","event","Math","round","loaded","total","_onProgressItem","send","error","data","message","_onErrorItem","_onSuccessItem","_onCompleteItem","callback","awsSDKScript","firstScript","document","getElementsByTagName","protocol","test","location","scriptId","getElementById","createElement","id","src","onload","parentNode","insertBefore","cancelItem","prop","abort","cancelS3Item","undefined","_onCancelItem","items","getNotUploadedItems","cancelAll","isFile","isFileLikeObject","isObject","isNumber","indexOf","isUploaded","getReadyItems","isReady","sort","item1","item2","destroy","key","object","onAfterAddingAll","fileItems","onAfterAddingFile","onWhenAddingFileFailed","onBeforeUploadItem","onProgressItem","onProgressAll","onSuccessItem","onErrorItem","onCancelItem","onCompleteItem","onCompleteAll","notUploaded","uploaded","ratio","current","isArray","names","match","$$phase","$apply","size","every","call","_isSuccessCode","_transformResponse","headersGetter","_headersGetter","defaults","transformResponse","transformFn","_parseHeaders","parsed","val","i","split","line","slice","trim","toLowerCase","parsedHeaders","_xhrTransport","xhr","_xhr","XMLHttpRequest","form","_onBeforeUploadItem","obj","append","onprogress","lengthComputable","getAllResponseHeaders","gist","onerror","onabort","open","setRequestHeader","_iframeTransport","element","iframe","now","input","_input","_form","replaceWith","action","target","enctype","encoding","bind","html","contentDocument","body","innerHTML","e","dummy","unbind","after","submit","_onBeforeUpload","_onProgress","_onSuccess","_onError","_onCancel","_onComplete","nextItem","isDefined","inherit","source","Object","create","constructor","super_","FileDirective","FileSelect","FileDrop","FileOver","fileOrInput","isInput","isElement","fakePathOrObject","postfix","isString","_createFromFakePath","path","lastModifiedDate","lastIndexOf","_createFromObject","uploader","isSuccess","isCancel","isError","_replaceNode","onBeforeUpload","onProgress","onSuccess","onError","onCancel","onComplete","clone","scope","css","_saveLinks","events","apply","arguments","removeAttr","$destroy","change","getOptions","getFilters","isEmptyAfterSelection","attr","onChange","dragover","dragleave","onDrop","transfer","_getTransfer","_preventAndStop","_removeOverClass","onDragOver","_haveFiles","types","dropEffect","_addOverClass","onDragLeave","currentTarget","dataTransfer","originalEvent","preventDefault","stopPropagation","contains","addOverClass","removeOverClass","overClass","addClass","getOverClass","removeClass","directive","$parse","link","attributes","$eval"],"mappings":"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"}