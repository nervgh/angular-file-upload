/*
 angular-file-upload v2.3.3
 https://github.com/nervgh/angular-file-upload
*/(function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=n():typeof define=="function"&&define.amd?define([],n):typeof exports=="object"?exports["angular-file-upload"]=n():t["angular-file-upload"]=n()})(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";function k(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),i=k(r),s=n(2),o=k(s),u=n(3),a=k(u),f=n(4),l=k(f),c=n(5),h=k(c),p=n(6),d=k(p),v=n(7),m=k(v),g=n(8),y=k(g),b=n(9),w=k(b),E=n(10),S=k(E),x=n(11),T=k(x),N=n(12),C=k(N);angular.module(i.default.name,[]).value("fileUploaderOptions",o.default).factory("FileUploader",a.default).factory("FileLikeObject",l.default).factory("FileItem",h.default).factory("FileDirective",d.default).factory("FileSelect",m.default).factory("FileDrop",y.default).factory("FileOver",w.default).directive("nvFileSelect",S.default).directive("nvFileDrop",T.default).directive("nvFileOver",C.default).run(["FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver",function(e,t,n,r,i,s,o){e.FileLikeObject=t,e.FileItem=n,e.FileDirective=r,e.FileSelect=i,e.FileDrop=s,e.FileOver=o}])},function(e,t){e.exports={name:"angularFileUpload"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1,disableMultipart:!1}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n,r,i,s,u){var m=r.File,g=r.FormData,y=function(){function r(t){o(this,r);var n=a(e);f(this,n,t,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}return r.prototype.addToQueue=function(t,n,r){var i=this,o=this.isArrayLikeObject(t)?t:[t],a=this._getFilters(r),f=this.queue.length,c=[];l(o,function(e){var t=new s(e);if(i._isValidFile(t,a,n)){var r=new u(i,e,n);c.push(r),i.queue.push(r),i._onAfterAddingFile(r)}else{var o=a[i._failFilterIndex];i._onWhenAddingFileFailed(t,o,n)}}),this.queue.length!==f&&(this._onAfterAddingAll(c),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},r.prototype.removeFromQueue=function(t){var n=this.getIndexOfItem(t),r=this.queue[n];r.isUploading&&r.cancel(),this.queue.splice(n,1),r._destroy(),this.progress=this._getTotalProgress(),this._onRemoveItem(r,n)},r.prototype.clearQueue=function(){while(this.queue.length)this.queue[0].remove();this.progress=0},r.prototype.uploadItem=function(t){var n=this.getIndexOfItem(t),r=this.queue[n],i=this.isHTML5?"_xhrTransport":"_iframeTransport";r._prepareToUploading();if(this.isUploading)return;this._onBeforeUploadItem(r);if(r.isCancel)return;r.isUploading=!0,this.isUploading=!0,this[i](r),this._render()},r.prototype.cancelItem=function(t){var n=this,r=this.getIndexOfItem(t),s=this.queue[r],o=this.isHTML5?"_xhr":"_form";if(!s)return;s.isCancel=!0,s.isUploading?s[o].abort():function(){var e=[undefined,0,{}],t=function(){n._onCancelItem.apply(n,[s].concat(e)),n._onCompleteItem.apply(n,[s].concat(e))};i(t)}()},r.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(e){return!e.isUploading});if(!t.length)return;l(t,function(e){return e._prepareToUploading()}),t[0].upload()},r.prototype.cancelAll=function(){var t=this.getNotUploadedItems();l(t,function(e){return e.cancel()})},r.prototype.isFile=function(t){return this.constructor.isFile(t)},r.prototype.isFileLikeObject=function(t){return this.constructor.isFileLikeObject(t)},r.prototype.isArrayLikeObject=function(t){return this.constructor.isArrayLikeObject(t)},r.prototype.getIndexOfItem=function(t){return h(t)?t:this.queue.indexOf(t)},r.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},r.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},r.prototype.destroy=function(){var t=this;l(this._directives,function(e){l(t._directives[e],function(e){e.destroy()})})},r.prototype.onAfterAddingAll=function(t){},r.prototype.onAfterAddingFile=function(t){},r.prototype.onWhenAddingFileFailed=function(t,n,r){},r.prototype.onBeforeUploadItem=function(t){},r.prototype.onProgressItem=function(t,n){},r.prototype.onProgressAll=function(t){},r.prototype.onSuccessItem=function(t,n,r,i){},r.prototype.onErrorItem=function(t,n,r,i){},r.prototype.onCancelItem=function(t,n,r,i){},r.prototype.onCompleteItem=function(t,n,r,i){},r.prototype.onCompleteAll=function(){},r.prototype.onRemoveItem=function(t,n){},r.prototype._getTotalProgress=function(t){if(this.removeAfterUpload)return t||0;var n=this.getNotUploadedItems().length,r=n?this.queue.length-n:this.queue.length,i=100/this.queue.length,s=(t||0)*i/100;return Math.round(r*i+s)},r.prototype._getFilters=function(t){if(!t)return this.filters;if(d(t))return t;var n=t.match(/[^\s,]+/g);return this.filters.filter(function(e){return n.indexOf(e.name)!==-1})},r.prototype._render=function(){t.$$phase||t.$apply()},r.prototype._folderFilter=function(t){return!!t.size||!!t.type},r.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},r.prototype._isValidFile=function(t,n,r){var i=this;return this._failFilterIndex=-1,n.length?n.every(function(e){return i._failFilterIndex++,e.fn.call(i,t,r)}):!0},r.prototype._isSuccessCode=function(t){return t>=200&&t<300||t===304},r.prototype._transformResponse=function(t,r){var i=this._headersGetter(r);return l(n.defaults.transformResponse,function(e){t=e(t,i)}),t},r.prototype._parseHeaders=function(t){var n={},r,i,s;return t?(l(t.split("\n"),function(e){s=e.indexOf(":"),r=e.slice(0,s).trim().toLowerCase(),i=e.slice(s+1).trim(),r&&(n[r]=n[r]?n[r]+", "+i:i)}),n):n},r.prototype._headersGetter=function(t){return function(e){return e?t[e.toLowerCase()]||null:t}},r.prototype._xhrTransport=function(t){var n=this,r=t._xhr=new XMLHttpRequest,i;t.disableMultipart?i=t._file:(i=new g,l(t.formData,function(e){l(e,function(e,t){i.append(t,e)})}),i.append(t.alias,t._file,t.file.name));if(typeof t._file.size!="number")throw new TypeError("The file specified is no longer valid");r.upload.onprogress=function(e){var r=Math.round(e.lengthComputable?e.loaded*100/e.total:0);n._onProgressItem(t,r)},r.onload=function(){var e=n._parseHeaders(r.getAllResponseHeaders()),i=n._transformResponse(r.response,e),s=n._isSuccessCode(r.status)?"Success":"Error",o="_on"+s+"Item";n[o](t,i,r.status,e),n._onCompleteItem(t,i,r.status,e)},r.onerror=function(){var e=n._parseHeaders(r.getAllResponseHeaders()),i=n._transformResponse(r.response,e);n._onErrorItem(t,i,r.status,e),n._onCompleteItem(t,i,r.status,e)},r.onabort=function(){var e=n._parseHeaders(r.getAllResponseHeaders()),i=n._transformResponse(r.response,e);n._onCancelItem(t,i,r.status,e),n._onCompleteItem(t,i,r.status,e)},r.open(t.method,t.url,!0),r.withCredentials=t.withCredentials,l(t.headers,function(e,t){r.setRequestHeader(t,e)}),r.send(i)},r.prototype._iframeTransport=function(t){var n=this,r=v('<form style="display: none;" />'),i=v('<iframe name="iframeTransport'+Date.now()+'">'),s=t._input;t._form&&t._form.replaceWith(s),t._form=r,s.prop("name",t.alias),l(t.formData,function(e){l(e,function(e,t){var n=v('<input type="hidden" name="'+t+'" />');n.val(e),r.append(n)})}),r.prop({action:t.url,method:"POST",target:i.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),i.bind("load",function(){var e="",r=200;try{e=i[0].contentDocument.body.innerHTML}catch(s){r=500}var o={response:e,status:r,dummy:!0},u={},a=n._transformResponse(o.response,u);n._onSuccessItem(t,a,o.status,u),n._onCompleteItem(t,a,o.status,u)}),r.abort=function(){var e={status:0,dummy:!0},o={},u;i.unbind("load").prop("src","javascript:false;"),r.replaceWith(s),n._onCancelItem(t,u,e.status,o),n._onCompleteItem(t,u,e.status,o)},s.after(r),r.append(s).append(i),r[0].submit()},r.prototype._onWhenAddingFileFailed=function(t,n,r){this.onWhenAddingFileFailed(t,n,r)},r.prototype._onAfterAddingFile=function(t){this.onAfterAddingFile(t)},r.prototype._onAfterAddingAll=function(t){this.onAfterAddingAll(t)},r.prototype._onBeforeUploadItem=function(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)},r.prototype._onProgressItem=function(t,n){var r=this._getTotalProgress(n);this.progress=r,t._onProgress(n),this.onProgressItem(t,n),this.onProgressAll(r),this._render()},r.prototype._onSuccessItem=function(t,n,r,i){t._onSuccess(n,r,i),this.onSuccessItem(t,n,r,i)},r.prototype._onErrorItem=function(t,n,r,i){t._onError(n,r,i),this.onErrorItem(t,n,r,i)},r.prototype._onCancelItem=function(t,n,r,i){t._onCancel(n,r,i),this.onCancelItem(t,n,r,i)},r.prototype._onCompleteItem=function(t,n,r,i){t._onComplete(n,r,i),this.onCompleteItem(t,n,r,i);var s=this.getReadyItems()[0];this.isUploading=!1;if(p(s)){s.upload();return}this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render()},r.prototype._onRemoveItem=function(t,n){this.onRemoveItem(t,n)},r.isFile=function(t){return m&&t instanceof m},r.isFileLikeObject=function(t){return t instanceof s},r.isArrayLikeObject=function(t){return c(t)&&"length"in t},r.inherit=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.super_=n},r}();return y.prototype.isHTML5=!!m&&!!g,y.isHTML5=y.prototype.isHTML5,y}Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=n(1),i=s(r),u=angular,a=u.copy,f=u.extend,l=u.forEach,c=u.isObject,h=u.isNumber,p=u.isDefined,d=u.isArray,v=u.element;m.$inject=["fileUploaderOptions","$rootScope","$http","$window","$timeout","FileLikeObject","FileItem"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(){return function(){function e(t){o(this,e);var n=f(t),r=n?t.value:t,i=l(r)?"FakePath":"Object",s="_createFrom"+i;this[s](r)}return e.prototype._createFromFakePath=function(t){this.lastModifiedDate=null,this.size=null,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2)},e.prototype._createFromObject=function(t){this.lastModifiedDate=a(t.lastModifiedDate),this.size=t.size,this.type=t.type,this.name=t.name},e}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(1),i=s(r),u=angular,a=u.copy,f=u.isElement,l=u.isString},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){return function(){function n(e,r,i){o(this,n);var s=c(r),u=s?l(r):null,h=s?null:r;f(this,{url:e.url,alias:e.alias,headers:a(e.headers),formData:a(e.formData),removeAfterUpload:e.removeAfterUpload,withCredentials:e.withCredentials,disableMultipart:e.disableMultipart,method:e.method},i,{uploader:e,file:new t(r),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:h,_input:u}),u&&this._replaceNode(u)}return n.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(t){this.uploader._onCompleteItem(this,"",0,[]),this.uploader._onErrorItem(this,"",0,[])}},n.prototype.cancel=function(){this.uploader.cancelItem(this)},n.prototype.remove=function(){this.uploader.removeFromQueue(this)},n.prototype.onBeforeUpload=function(){},n.prototype.onProgress=function(t){},n.prototype.onSuccess=function(t,n,r){},n.prototype.onError=function(t,n,r){},n.prototype.onCancel=function(t,n,r){},n.prototype.onComplete=function(t,n,r){},n.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},n.prototype._onProgress=function(t){this.progress=t,this.onProgress(t)},n.prototype._onSuccess=function(t,n,r){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(t,n,r)},n.prototype._onError=function(t,n,r){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(t,n,r)},n.prototype._onCancel=function(t,n,r){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(t,n,r)},n.prototype._onComplete=function(t,n,r){this.onComplete(t,n,r),this.removeAfterUpload&&this.remove()},n.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},n.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},n.prototype._replaceNode=function(n){var r=e(n.clone())(n.scope());r.prop("value",null),n.css("display","none"),n.after(r)},n}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=n(1),i=s(r),u=angular,a=u.copy,f=u.extend,l=u.element,c=u.isElement;h.$inject=["$compile","FileLikeObject"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(){var e=function(){function e(t){o(this,e),a(this,t),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}return e.prototype.bind=function(){for(var t in this.events){var n=this.events[t];this.element.bind(t,this[n])}},e.prototype.unbind=function(){for(var t in this.events)this.element.unbind(t,this.events[t])},e.prototype.destroy=function(){var t=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(t,1),this.unbind()},e.prototype._saveLinks=function(){for(var t in this.events){var n=this.events[t];this[n]=this[n].bind(this)}},e}();return e.prototype.events={},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=n(1),i=s(r),u=angular,a=u.extend},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return function(e){function t(n){o(this,t);var r=l(n,{events:{$destroy:"destroy",change:"onChange"},prop:"select"}),i=u(this,e.call(this,r));return i.uploader.isHTML5||i.element.removeAttr("multiple"),i.element.prop("value",null),i}return a(t,e),t.prototype.getOptions=function(){},t.prototype.getFilters=function(){},t.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},t.prototype.onChange=function(){var t=this.uploader.isHTML5?this.element[0].files:this.element[0],n=this.getOptions(),r=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(t,n,r),this.isEmptyAfterSelection()&&(this.element.prop("value",null),this.element.replaceWith(this.element=this.element.clone(!0)))},t}(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(1),i=s(r),f=angular,l=f.extend;c.$inject=["FileDirective"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e){return function(e){function t(n){o(this,t);var r=l(n,{events:{$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},prop:"drop"});return u(this,e.call(this,r))}return a(t,e),t.prototype.getOptions=function(){},t.prototype.getFilters=function(){},t.prototype.onDrop=function(t){var n=this._getTransfer(t);if(!n)return;var r=this.getOptions(),i=this.getFilters();this._preventAndStop(t),c(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(n.files,r,i)},t.prototype.onDragOver=function(t){var n=this._getTransfer(t);if(!this._haveFiles(n.types))return;n.dropEffect="copy",this._preventAndStop(t),c(this.uploader._directives.over,this._addOverClass,this)},t.prototype.onDragLeave=function(t){if(t.currentTarget===this.element[0])return;this._preventAndStop(t),c(this.uploader._directives.over,this._removeOverClass,this)},t.prototype._getTransfer=function(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer},t.prototype._preventAndStop=function(t){t.preventDefault(),t.stopPropagation()},t.prototype._haveFiles=function(t){return t?t.indexOf?t.indexOf("Files")!==-1:t.contains?t.contains("Files"):!1:!1},t.prototype._addOverClass=function(t){t.addOverClass()},t.prototype._removeOverClass=function(t){t.removeOverClass()},t}(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r=n(1),i=s(r),f=angular,l=f.extend,c=f.forEach;h.$inject=["FileDirective"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t}function a(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return function(e){function t(n){o(this,t);var r=l(n,{events:{$destroy:"destroy"},prop:"over",overClass:"nv-file-over"});return u(this,e.call(this,r))}return a(t,e),t.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},t.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},t.prototype.getOverClass=function(){return this.overClass},t}(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(1),i=s(r),f=angular,l=f.extend;c.$inject=["FileDirective"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return{link:function(i,s,o){var u=i.$eval(o.uploader);if(!(u instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');var a=new n({uploader:u,element:s});a.getOptions=e(o.options).bind(a,i),a.getFilters=function(){return o.filters}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),i=s(r);o.$inject=["$parse","FileUploader","FileSelect"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return{link:function(i,s,o){var u=i.$eval(o.uploader);if(!(u instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');if(!u.isHTML5)return;var a=new n({uploader:u,element:s});a.getOptions=e(o.options).bind(a,i),a.getFilters=function(){return o.filters}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),i=s(r);o.$inject=["$parse","FileUploader","FileDrop"]},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return{link:function(r,i,s){var o=r.$eval(s.uploader);if(!(o instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');var u=new t({uploader:o,element:i});u.getOverClass=function(){return s.overClass||u.overClass}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(1),i=s(r);o.$inject=["FileUploader","FileOver"]}])});